cmake_minimum_required(VERSION 3.2)
project(mylog)
set(LOG_SOURCES AsyncLogging.cpp  FileUtil.cpp  LogFIle.cpp  Logger.cpp  LogStream.cpp)
get_filename_component(PARENT_FOLDER ${CMAKE_CURRENT_SOURCE_DIR} DIRECTORY)
get_filename_component(ROOT_FOLDER ${PARENT_FOLDER} DIRECTORY)
set(INCLUDE_SRC ${ROOT_FOLDER}/public/include/Log)
include_directories(${INCLUDE_SRC})

add_library(mylog STATIC ${LOG_SOURCES})
find_package(Threads REQUIRED)
target_link_libraries(mylog pthread)
set_target_properties(mylog PROPERTIES POSITION_INDEPENDENT_CODE ON OUTPUT_NAME mylog)
#set_target_properties(mylog PROPERTIES OUTPUT_NAME mylog)

install(TARGETS mylog DESTINATION ${ROOT_FOLDER}/public/lib)